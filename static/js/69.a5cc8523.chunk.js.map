{"version":3,"file":"static/js/69.a5cc8523.chunk.js","mappings":"6MAqDA,UA1CoB,WAClB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAgBC,EAAAA,EAAAA,IAAYC,EAAAA,IAClCC,GAA8BC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,GAAwBL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA5BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,GAAoBZ,EAAAA,EAAAA,IAAYa,EAAAA,IAChCC,GAAUd,EAAAA,EAAAA,KAAY,SAAAe,GAAK,OAAIA,EAAMD,OAAO,KAElDE,EAAAA,EAAAA,YAAU,WACJV,GACFT,EAASoB,EAAAA,GAAAA,eAAmB,CAAEP,KAAAA,IAElC,GAAG,CAACb,EAAUa,EAAMJ,KAEpBU,EAAAA,EAAAA,YAAU,WACRT,GAAW,EACb,GAAG,IAYH,OACEW,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAAAC,UACPC,EAAAA,EAAAA,MAACC,EAAAA,GAAO,CAACC,MAAM,GAAEH,SAAA,EACfF,EAAAA,EAAAA,KAACM,EAAAA,GAAO,CAACC,aATU,WACvB,IAAQC,EAASZ,EAATY,KACR7B,GAAS8B,EAAAA,EAAAA,OACT9B,EAASoB,EAAAA,GAAAA,eAAmB,CAAES,KAAAA,IAChC,KAMMR,EAAAA,EAAAA,KAACU,EAAAA,GAAQ,CAAC7B,cAAeA,IACxBa,IACCM,EAAAA,EAAAA,KAACW,EAAAA,GAAW,CAACC,KAAK,SAASC,QAhBV,WACvBpB,GAAQ,SAAAqB,GAAI,OAAIA,EAAO,CAAC,GAC1B,EAc6DZ,SAAC,kBAOhE,C","sources":["pages/CatalogPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CardList, Section, WrapPage } from 'components';\nimport {\n  api,\n  clearAdverts,\n  selectVisibleAdverts,\n  selectIsLoadMoreVisible,\n} from 'store';\nimport { BtnLoadMore, Filters } from 'components';\n\nconst CatalogPage = () => {\n  const dispatch = useDispatch();\n  const advertsToList = useSelector(selectVisibleAdverts);\n  const [updated, setUpdated] = useState(false);\n  const [page, setPage] = useState(1);\n  const isLoadMoreVisible = useSelector(selectIsLoadMoreVisible);\n  const filters = useSelector(state => state.filters);\n\n  useEffect(() => {\n    if (updated) {\n      dispatch(api.getAdvertThunk({ page }));\n    }\n  }, [dispatch, page, updated]);\n\n  useEffect(() => {\n    setUpdated(true);\n  }, []);\n\n  const handlePagination = () => {\n    setPage(prev => prev + 1);\n  };\n\n  const handleFormSubmit = () => {\n    const { make } = filters;\n    dispatch(clearAdverts());\n    dispatch(api.getAdvertThunk({ make }));\n  };\n\n  return (\n    <WrapPage>\n      <Section title=\"\">\n        <Filters onFormSubmit={handleFormSubmit} />\n        <CardList advertsToList={advertsToList} />\n        {isLoadMoreVisible && (\n          <BtnLoadMore type=\"button\" onClick={handlePagination}>\n            Load more\n          </BtnLoadMore>\n        )}\n      </Section>\n    </WrapPage>\n  );\n};\nexport default CatalogPage;\n"],"names":["dispatch","useDispatch","advertsToList","useSelector","selectVisibleAdverts","_useState","useState","_useState2","_slicedToArray","updated","setUpdated","_useState3","_useState4","page","setPage","isLoadMoreVisible","selectIsLoadMoreVisible","filters","state","useEffect","api","_jsx","WrapPage","children","_jsxs","Section","title","Filters","onFormSubmit","make","clearAdverts","CardList","BtnLoadMore","type","onClick","prev"],"sourceRoot":""}